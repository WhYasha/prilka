import{d as y,u as _,c as u,a as t,t as d,b as x,w as S,e as p,v as m,f as v,g as V,h as k,r as a,i as N,j as C,o as g}from"./index-B9w5uX9U.js";const B={class:"auth-page"},L={class:"auth-card"},M={key:0,class:"alert alert-error"},U={class:"form-group"},q={class:"form-group"},A=["disabled"],D={class:"auth-footer"},j=y({__name:"LoginView",setup(R){const c=C(),f=_(),n=a(""),r=a(""),s=a(""),o=a(!1),h=window.location.hostname.startsWith("admin.");async function w(){s.value="",o.value=!0;try{await f.login(n.value.trim(),r.value),c.push(h?"/admin":"/app")}catch(i){const e=i;s.value=e.response?.data?.error||"Login failed."}finally{o.value=!1}}return(i,e)=>{const b=N("router-link");return g(),u("div",B,[t("div",L,[e[6]||(e[6]=t("div",{class:"auth-logo"},"ðŸ’¬",-1)),e[7]||(e[7]=t("h1",{class:"auth-title"},"Simple Messenger",-1)),e[8]||(e[8]=t("p",{class:"auth-subtitle"},"Sign in to your account",-1)),s.value?(g(),u("div",M,d(s.value),1)):x("",!0),t("form",{onSubmit:S(w,["prevent"]),novalidate:""},[t("div",U,[e[2]||(e[2]=t("label",{for:"username"},"Username",-1)),p(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),type:"text",autocomplete:"username",placeholder:"your_username",minlength:"3",maxlength:"32",required:""},null,512),[[m,n.value]])]),t("div",q,[e[3]||(e[3]=t("label",{for:"password"},"Password",-1)),p(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),type:"password",autocomplete:"current-password",placeholder:"------",minlength:"6",maxlength:"128",required:""},null,512),[[m,r.value]])]),t("button",{type:"submit",class:"btn btn-primary btn-full",disabled:o.value},d(o.value?"Signing in...":"Sign in"),9,A)],32),t("p",D,[e[5]||(e[5]=v(" No account? ",-1)),V(b,{to:"/register"},{default:k(()=>[...e[4]||(e[4]=[v("Register",-1)])]),_:1})])])])}}});export{j as default};
