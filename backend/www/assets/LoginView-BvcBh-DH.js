import{d as x,u as V,c as n,a as t,b as s,t as l,e as h,w as A,f,v as _,n as g,g as w,h as S,i as B,r as u,j as C,k as N,o as r}from"./index-DX_tp4B9.js";import{_ as q}from"./favicon-BHUZcTbH.js";const z={key:0,class:"admin-login-icon"},H={key:1,class:"auth-logo"},L={class:"auth-title"},M={class:"auth-subtitle"},U={key:2,class:"alert alert-error"},j={class:"form-group"},D={class:"form-group"},P=["disabled"],R={key:3,class:"auth-footer"},F=x({__name:"LoginView",setup(T){const y=N(),d=V(),m=u(""),p=u(""),a=u(""),i=u(!1),o=window.location.hostname.startsWith("admin.");async function b(){a.value="",i.value=!0;try{if(await d.login(m.value.trim(),p.value.trim()),o&&!d.isAdmin){d.logout(),a.value="Access denied. Admin privileges required.";return}y.push(o?"/admin":"/app")}catch(v){const e=v;a.value=e.response?.data?.error||"Login failed."}finally{i.value=!1}}return(v,e)=>{const k=C("router-link");return r(),n("div",{class:g(["auth-page",{"admin-login-page":s(o)}])},[t("div",{class:g(["auth-card",{"admin-login-card":s(o)}])},[s(o)?(r(),n("div",z,[...e[2]||(e[2]=[t("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})],-1)])])):(r(),n("div",H,[...e[3]||(e[3]=[t("img",{src:q,alt:"BeHappy",class:"auth-logo-img"},null,-1)])])),t("h1",L,l(s(o)?"Admin Panel":"BeHappy"),1),t("p",M,l(s(o)?"Authorized personnel only":"Sign in to your account"),1),a.value?(r(),n("div",U,l(a.value),1)):h("",!0),t("form",{onSubmit:A(b,["prevent"]),novalidate:""},[t("div",j,[e[4]||(e[4]=t("label",{for:"username"},"Username",-1)),f(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=c=>m.value=c),type:"text",autocomplete:"username",placeholder:"your_username",minlength:"3",maxlength:"32",required:""},null,512),[[_,m.value]])]),t("div",D,[e[5]||(e[5]=t("label",{for:"password"},"Password",-1)),f(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=c=>p.value=c),type:"password",autocomplete:"current-password",placeholder:"------",minlength:"6",maxlength:"128",required:""},null,512),[[_,p.value]])]),t("button",{type:"submit",class:g(["btn","btn-full",s(o)?"btn-admin":"btn-primary"]),disabled:i.value},l(i.value?"Signing in...":"Sign in"),11,P)],32),s(o)?h("",!0):(r(),n("p",R,[e[7]||(e[7]=w(" No account? ",-1)),S(k,{to:"/register"},{default:B(()=>[...e[6]||(e[6]=[w("Register",-1)])]),_:1})]))],2)],2)}}});export{F as default};
