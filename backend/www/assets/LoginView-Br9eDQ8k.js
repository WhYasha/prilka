import{d as w,u as y,c as u,a as t,t as d,b as _,w as x,e as p,v as m,f as v,g as S,h as V,r as a,i as k,j as N,o as g}from"./index-F_3jQ4-e.js";const C={class:"auth-page"},B={class:"auth-card"},L={key:0,class:"alert alert-error"},M={class:"form-group"},U={class:"form-group"},q=["disabled"],D={class:"auth-footer"},j=w({__name:"LoginView",setup(R){const f=N(),c=y(),r=a(""),n=a(""),s=a(""),o=a(!1);async function b(){s.value="",o.value=!0;try{await c.login(r.value.trim(),n.value),f.push("/app")}catch(i){const e=i;s.value=e.response?.data?.error||"Login failed."}finally{o.value=!1}}return(i,e)=>{const h=k("router-link");return g(),u("div",C,[t("div",B,[e[6]||(e[6]=t("div",{class:"auth-logo"},"ðŸ’¬",-1)),e[7]||(e[7]=t("h1",{class:"auth-title"},"Simple Messenger",-1)),e[8]||(e[8]=t("p",{class:"auth-subtitle"},"Sign in to your account",-1)),s.value?(g(),u("div",L,d(s.value),1)):_("",!0),t("form",{onSubmit:x(b,["prevent"]),novalidate:""},[t("div",M,[e[2]||(e[2]=t("label",{for:"username"},"Username",-1)),p(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),type:"text",autocomplete:"username",placeholder:"your_username",minlength:"3",maxlength:"32",required:""},null,512),[[m,r.value]])]),t("div",U,[e[3]||(e[3]=t("label",{for:"password"},"Password",-1)),p(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>n.value=l),type:"password",autocomplete:"current-password",placeholder:"------",minlength:"6",maxlength:"128",required:""},null,512),[[m,n.value]])]),t("button",{type:"submit",class:"btn btn-primary btn-full",disabled:o.value},d(o.value?"Signing in...":"Sign in"),9,q)],32),t("p",D,[e[5]||(e[5]=v(" No account? ",-1)),S(h,{to:"/register"},{default:V(()=>[...e[4]||(e[4]=[v("Register",-1)])]),_:1})])])])}}});export{j as default};
