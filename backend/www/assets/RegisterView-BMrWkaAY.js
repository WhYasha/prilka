import{d as y,u as x,c as p,a as t,t as v,e as V,w as C,f as u,v as d,g as f,h as _,i as k,r as s,j as S,o as g,k as N}from"./index-C3AN9eop.js";const R={class:"auth-page"},U={class:"auth-card"},q={key:0,class:"alert alert-error"},B={class:"form-group"},M={class:"form-group"},A={class:"form-group"},D=["disabled"],E={class:"auth-footer"},P=y({__name:"RegisterView",setup(T){const c=N(),h=x(),r=s(""),n=s(""),i=s(""),o=s(""),l=s(!1);async function w(){o.value="",l.value=!0;try{await h.register(r.value.trim(),n.value.trim(),i.value),c.push("/app")}catch(m){const e=m;o.value=e.response?.data?.error||"Registration failed."}finally{l.value=!1}}return(m,e)=>{const b=S("router-link");return g(),p("div",R,[t("div",U,[e[9]||(e[9]=t("div",{class:"auth-logo"},"ðŸ’¬",-1)),e[10]||(e[10]=t("h1",{class:"auth-title"},"Simple Messenger",-1)),e[11]||(e[11]=t("p",{class:"auth-subtitle"},"Create a new account",-1)),o.value?(g(),p("div",q,v(o.value),1)):V("",!0),t("form",{onSubmit:C(w,["prevent"]),novalidate:""},[t("div",B,[e[3]||(e[3]=t("label",{for:"username"},"Username",-1)),u(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),type:"text",autocomplete:"username",placeholder:"choose_a_username",minlength:"3",maxlength:"32",required:""},null,512),[[d,r.value]]),e[4]||(e[4]=t("span",{class:"form-hint"},"3-32 chars, letters/digits/- _",-1))]),t("div",M,[e[5]||(e[5]=t("label",{for:"email"},"Email",-1)),u(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),type:"email",autocomplete:"email",placeholder:"you@example.com",maxlength:"128",required:""},null,512),[[d,n.value]])]),t("div",A,[e[6]||(e[6]=t("label",{for:"password"},"Password",-1)),u(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),type:"password",autocomplete:"new-password",placeholder:"at least 6 characters",minlength:"6",maxlength:"128",required:""},null,512),[[d,i.value]])]),t("button",{type:"submit",class:"btn btn-primary btn-full",disabled:l.value},v(l.value?"Creating...":"Create account"),9,D)],32),t("p",E,[e[8]||(e[8]=f(" Already have an account? ",-1)),_(b,{to:"/login"},{default:k(()=>[...e[7]||(e[7]=[f("Sign in",-1)])]),_:1})])])])}}});export{P as default};
