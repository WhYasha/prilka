import{s as y,o as u}from"./runtime-dom.esm-bundler-BK6IBOWL.js";import{u as x,a as V}from"./index-DKTJyLdB.js";import{H as C,aN as _,aB as p,r as v,s as t,a$ as f,q as S,bp as d,y as g,z as k,bn as N,aJ as s}from"./runtime-core.esm-bundler-DriOm3-t.js";import"./index-dWvJ5vCQ.js";import"./pinia-CHGKEwD6.js";const q={class:"auth-page"},B={class:"auth-card"},R={key:0,class:"alert alert-error"},U={class:"form-group"},M={class:"form-group"},A={class:"form-group"},D=["disabled"],E={class:"auth-footer"},j=C({__name:"RegisterView",setup(T){const c=x(),b=V(),l=s(""),n=s(""),i=s(""),o=s(""),r=s(!1);async function h(){o.value="",r.value=!0;try{await b.register(l.value.trim(),n.value.trim(),i.value),c.push("/app")}catch(m){const e=m;o.value=e.response?.data?.error||"Registration failed."}finally{r.value=!1}}return(m,e)=>{const w=_("router-link");return p(),v("div",q,[t("div",B,[e[9]||(e[9]=t("div",{class:"auth-logo"},"ðŸ’¬",-1)),e[10]||(e[10]=t("h1",{class:"auth-title"},"Simple Messenger",-1)),e[11]||(e[11]=t("p",{class:"auth-subtitle"},"Create a new account",-1)),o.value?(p(),v("div",R,f(o.value),1)):S("",!0),t("form",{onSubmit:y(h,["prevent"]),novalidate:""},[t("div",U,[e[3]||(e[3]=t("label",{for:"username"},"Username",-1)),d(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),type:"text",autocomplete:"username",placeholder:"choose_a_username",minlength:"3",maxlength:"32",required:""},null,512),[[u,l.value]]),e[4]||(e[4]=t("span",{class:"form-hint"},"3-32 chars, letters/digits/- _",-1))]),t("div",M,[e[5]||(e[5]=t("label",{for:"email"},"Email",-1)),d(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),type:"email",autocomplete:"email",placeholder:"you@example.com",maxlength:"128",required:""},null,512),[[u,n.value]])]),t("div",A,[e[6]||(e[6]=t("label",{for:"password"},"Password",-1)),d(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),type:"password",autocomplete:"new-password",placeholder:"at least 6 characters",minlength:"6",maxlength:"128",required:""},null,512),[[u,i.value]])]),t("button",{type:"submit",class:"btn btn-primary btn-full",disabled:r.value},f(r.value?"Creating...":"Create account"),9,D)],32),t("p",E,[e[8]||(e[8]=g(" Already have an account? ",-1)),k(w,{to:"/login"},{default:N(()=>[...e[7]||(e[7]=[g("Sign in",-1)])]),_:1})])])])}}});export{j as default};
