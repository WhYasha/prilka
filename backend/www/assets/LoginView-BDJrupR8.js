import{s as h,o as u}from"./runtime-dom.esm-bundler-BK6IBOWL.js";import{u as w,a as _}from"./index-DKTJyLdB.js";import{H as x,aN as S,aB as d,r as p,s as t,a$ as m,q as V,bp as v,y as f,z as N,bn as k,aJ as a}from"./runtime-core.esm-bundler-DriOm3-t.js";import"./index-dWvJ5vCQ.js";import"./pinia-CHGKEwD6.js";const B={class:"auth-page"},C={class:"auth-card"},q={key:0,class:"alert alert-error"},L={class:"form-group"},M={class:"form-group"},U=["disabled"],D={class:"auth-footer"},J=x({__name:"LoginView",setup(R){const g=w(),c=_(),r=a(""),n=a(""),o=a(""),s=a(!1);async function b(){o.value="",s.value=!0;try{await c.login(r.value.trim(),n.value),g.push("/app")}catch(i){const e=i;o.value=e.response?.data?.error||"Login failed."}finally{s.value=!1}}return(i,e)=>{const y=S("router-link");return d(),p("div",B,[t("div",C,[e[6]||(e[6]=t("div",{class:"auth-logo"},"ðŸ’¬",-1)),e[7]||(e[7]=t("h1",{class:"auth-title"},"Simple Messenger",-1)),e[8]||(e[8]=t("p",{class:"auth-subtitle"},"Sign in to your account",-1)),o.value?(d(),p("div",q,m(o.value),1)):V("",!0),t("form",{onSubmit:h(b,["prevent"]),novalidate:""},[t("div",L,[e[2]||(e[2]=t("label",{for:"username"},"Username",-1)),v(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),type:"text",autocomplete:"username",placeholder:"your_username",minlength:"3",maxlength:"32",required:""},null,512),[[u,r.value]])]),t("div",M,[e[3]||(e[3]=t("label",{for:"password"},"Password",-1)),v(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>n.value=l),type:"password",autocomplete:"current-password",placeholder:"------",minlength:"6",maxlength:"128",required:""},null,512),[[u,n.value]])]),t("button",{type:"submit",class:"btn btn-primary btn-full",disabled:s.value},m(s.value?"Signing in...":"Sign in"),9,U)],32),t("p",D,[e[5]||(e[5]=f(" No account? ",-1)),N(y,{to:"/register"},{default:k(()=>[...e[4]||(e[4]=[f("Register",-1)])]),_:1})])])])}}});export{J as default};
